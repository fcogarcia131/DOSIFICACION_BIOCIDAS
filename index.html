<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Calculadora Profesional de Biocidas</title>

<style>
body{font-family:Arial;background:#f4f6f9;margin:0;padding:0}
.container{max-width:700px;margin:40px auto;background:white;padding:30px;border-radius:10px;box-shadow:0 5px 15px rgba(0,0,0,0.1)}
h2{margin-top:0}
button{width:100%;padding:12px;margin-top:10px;border:none;border-radius:6px;background:#1976d2;color:white;font-weight:bold;cursor:pointer}
button.secondary{background:#6c757d}
select,input{width:100%;padding:8px;margin-top:5px;margin-bottom:15px}
.result{background:#f1f3f5;padding:15px;margin-top:20px;border-radius:6px;font-size:14px}
</style>
</head>

<body>

<div class="container" id="menu">
<h2>Calculadora Profesional</h2>
<button onclick="mostrarVectobac()">DOSIFICACIÓN VECTOBAC 12 AS</button>
</div>

<div class="container" id="contenido" style="display:none;"></div>

<script>

function volver(){
document.getElementById("contenido").style.display="none";
document.getElementById("menu").style.display="block";
}

////////////////////////////////////////////////////
//////////////// VECTOBAC //////////////////////////
////////////////////////////////////////////////////

function mostrarVectobac(){
document.getElementById("menu").style.display="none";
document.getElementById("contenido").style.display="block";

document.getElementById("contenido").innerHTML=`
<h2>Vectobac 12 AS</h2>

<label>Tipo tratamiento:</label>
<select id="tipo" onchange="mostrarOpciones()">
<option value="superficie">Grandes superficies</option>
<option value="imbornal">Imbornales municipales</option>
</select>

<div id="opciones"></div>

<button onclick="calcularVectobac()">Calcular</button>
<button class="secondary" onclick="volver()">Volver</button>

<div class="result" id="resultado"></div>
`;

mostrarOpciones();
}

function mostrarOpciones(){

var tipo=document.getElementById("tipo").value;
var html=`
<label>Nivel infestación:</label>
<select id="nivel">
<option value="0.25">Baja (0.25 L/ha)</option>
<option value="1.5">Alta (1.5 L/ha)</option>
</select>

<label>Alta carga orgánica:</label>
<select id="organica">
<option value="1">No</option>
<option value="1.5">Sí (+50%)</option>
</select>
`;

if(tipo==="superficie"){
html+=`
<label>Superficie a tratar (m²):</label>
<input type="number" id="superficie">

<label>Volumen aplicación (L/ha):</label>
<select id="volHa">
<option value="300">Lámina limpia (300 L/ha)</option>
<option value="600">Vegetación media (600 L/ha)</option>
<option value="900">Vegetación densa (900 L/ha)</option>
</select>
`;
}

if(tipo==="imbornal"){
html+=`
<label>Volumen mochila a preparar (L):</label>
<input type="number" id="volMochila">
`;
}

document.getElementById("opciones").innerHTML=html;
}

function calcularVectobac(){

var tipo=document.getElementById("tipo").value;
var dosis=parseFloat(document.getElementById("nivel").value);
var factor=parseFloat(document.getElementById("organica").value);

dosis=dosis*factor;

if(tipo==="superficie"){

var superficie=parseFloat(document.getElementById("superficie").value);
var volHa=parseFloat(document.getElementById("volHa").value);

var producto=(dosis/10000)*superficie; // L
var caldo=(volHa/10000)*superficie; // L
var concentracion=(producto/caldo)*1000; // ml/L

document.getElementById("resultado").innerHTML=
"<strong>GRANDES SUPERFICIES</strong><br><br>"+
"Dosis aplicada: "+dosis.toFixed(2)+" L/ha<br><br>"+
"Producto total = (L/ha × m²)/10000<br>"+
producto.toFixed(3)+" L<br><br>"+
"Caldo necesario = "+caldo.toFixed(2)+" L<br>"+
"Concentración final = "+concentracion.toFixed(2)+" ml/L";
}

if(tipo==="imbornal"){

var volumen=parseFloat(document.getElementById("volMochila").value);

var superficieImb=0.5;
var mlImbornal=(dosis/10000)*superficieImb*1000;

var volumenAplicado=30; // 3 seg × 10 ml/s
var concentracion=mlImbornal/volumenAplicado;

var productoTotal=volumen*1000*concentracion;

var imbornales=Math.floor((volumen*1000)/volumenAplicado);

document.getElementById("resultado").innerHTML=
"<strong>IMBORNALES</strong><br><br>"+
"Dosis aplicada: "+dosis.toFixed(2)+" L/ha<br><br>"+
"BTI por imbornal = "+mlImbornal.toFixed(4)+" ml<br>"+
"Volumen aplicado por imbornal = 30 ml<br><br>"+
"Concentración en mochila = "+(concentracion*1000).toFixed(4)+" ml/L<br><br>"+
"<strong>A añadir a mochila:</strong> "+productoTotal.toFixed(2)+" ml<br><br>"+
"<strong>Imbornales tratables:</strong> "+imbornales;
}

}

</script>
</body>
</html>
